/* ====== PALETA + VARS ====== */
:root{
  --bg:#0b0b0b;
  --paper:#fff; 
  --ink:#111; 
  --ink-2:#333; 
  --ink-3:#555; 
  --rule:#1a1a1a; 
  --shadow:rgba(0,0,0,.12);

  --btn-bg:#111;
  --btn-fg:#fff;
  --gallery-bg:#000;
}

/* ====== RESET & BASE ====== */
*{box-sizing:border-box}
html,body{
  margin:0; padding:0; background:var(--bg); color:var(--ink);
  font-family:Newsreader, Georgia, serif; -webkit-font-smoothing:antialiased;
}
h1,h2{ font-family:"Playfair Display", Georgia, serif; letter-spacing:.02em; margin:0 0 .5rem }
h2{ font-size:1.1rem }
a{ color:inherit; text-decoration:none }
p{ margin:.5rem 0; line-height:1.65; color:var(--ink-3) }

.paper{
  max-width:480px; margin:0 auto; background:var(--paper);
  border-radius:18px; overflow:hidden; box-shadow:0 16px 48px rgba(0,0,0,.35)
}

/* ====== MASTHEAD ====== */
.masthead{ 
  position:relative;
  text-align:center; padding:18px 16px 14px; border-bottom:1px solid var(--rule);
  background:repeating-linear-gradient(180deg,var(--paper),var(--paper) 32px,#f8f8f8 33px)
}
.masthead .brand{ font-size:1.6rem; letter-spacing:.18em; font-weight:700 }
.masthead .dateline{ color:var(--ink-3); letter-spacing:.15em; font-size:.72rem }

/* ====== HERO ====== */
.hero{
  position:relative; height:calc(86svh - 64px); min-height:520px; max-height:860px;
  background:center/cover no-repeat; border-radius:0 0 18px 18px; overflow:hidden
}
.hero .overlay{ position:absolute; inset:0; background:linear-gradient(180deg,rgba(0,0,0,.22),rgba(0,0,0,.66) 72%,rgba(0,0,0,.78)) }
.hero-caption{ position:absolute; left:0; right:0; bottom:0; padding:20px 16px 24px; color:#fff; text-align:center }
.hero-caption h1{ font-size:1.9rem; margin:0 0 .25rem; text-shadow:0 2px 12px rgba(0,0,0,.5) }
.hero-caption p{ color:#ededed; margin:0 }

/* ====== SECCIONES ====== */
.lede{ padding:16px; border-bottom:1px solid var(--rule) }
.details-box{ display:grid; grid-template-columns:1fr 1fr 1.2fr; gap:12px; padding:16px; border-bottom:1px solid var(--rule) }
.details-box .kicker{ font-variant:all-small-caps; letter-spacing:.14em; color:var(--ink-3); font-size:.72rem }
.details-box .big{ font-family:"Playfair Display"; font-size:3.2rem; line-height:1; margin:.2rem 0 0 }
.details-box .month{ letter-spacing:.2em; margin-top:.2rem }
.details-box .year{ color:var(--ink-3) }
.details-box .row{ display:flex; justify-content:space-between; align-items:center; padding:.25rem 0; border-bottom:1px dotted var(--rule) }
.details-box .row:last-child{ border-bottom:0 }
.details-box .place{ font-weight:600 }
.details-box .addr{ font-size:.9rem; color:var(--ink-3); margin:.2rem 0 .6rem }

/* ====== BOTONES ====== */
.btn{ 
  display:inline-block; padding:.7rem 1rem; border-radius:999px; font-weight:600;
  background:var(--btn-bg); color:var(--btn-fg); border:1px solid var(--btn-bg);
  box-shadow:0 8px 22px var(--shadow); transition:transform .12s ease 
}
.btn:active{ transform:translateY(1px) }
.btn.outline,.btn.outline-dark{ background:transparent; color:var(--ink); border-color:var(--ink); box-shadow:none }

/* ====== TARJETA ====== */
.card{ margin:16px; padding:16px; border:1px solid var(--rule); border-radius:12px; background:var(--paper) }

/* ====== COUNTDOWN ====== */
.rsvp-grid{ display:grid; grid-template-columns:1fr; gap:8px; padding-top:6px }
.countdown{ display:flex; gap:12px; justify-content:center; margin-top:.5rem; flex-wrap:wrap }
.tick{ border:1px solid var(--ink); padding:.8rem 1rem; border-radius:8px; min-width:72px; text-align:center; background:var(--paper) }
.tick strong{ display:block; font-size:1.6rem }
.tick span{ font-size:.85rem; color:#444; letter-spacing:.09em }
@media (min-width:600px){
  .tick{ padding:1rem 1.2rem; min-width:84px }
  .tick strong{ font-size:1.9rem }
  .tick span{ font-size:.95rem }
}
/* Botones compactos bajo el contador */
.count .btn.slim{ display:block; width:max-content; margin:.6rem auto 0; padding:.5rem .9rem; font-size:.95rem; box-shadow:0 4px 12px var(--shadow) }
.count .btn.slim + .btn.slim{ margin-top:.5rem }

/* ====== FOTO OVAL ====== */
.photo-window{ padding:0 16px 6px }
.window{ margin:0; aspect-ratio:5/4; background:center/cover no-repeat; border-radius:999px / 85%;
  border:1px solid var(--rule); box-shadow:0 8px 24px var(--shadow) }

/* ====== TIMELINE ====== */
.tl-head{ border-bottom:1px solid var(--rule); padding-bottom:.4rem; margin-bottom:.6rem }
.tl-head .tl-meta{ color:var(--ink-3); letter-spacing:.02em; font-size:.9rem }
.tl{ list-style:none; margin:0; padding:0; position:relative }
.timeline-vertical{
  --time-col:130px; --rail-gap:14px; --dot-col:24px; overflow:visible;
}
.timeline-vertical .tl{ padding:.5rem 0 1rem; position:relative }
.timeline-vertical .tl::before{
  content:""; position:absolute; top:0; bottom:0;
  left: calc(var(--time-col) + var(--rail-gap) + var(--dot-col)/2);
  width:2px; background:linear-gradient(180deg,var(--ink),#888); border-radius:2px;
}
.timeline-vertical .tl li{
  display:grid; grid-template-columns:var(--time-col) var(--dot-col) 1fr;
  gap:var(--rail-gap); align-items:center; padding:14px 0;
}
.timeline-vertical .tl li time{ grid-column:1; text-align:right; font-weight:700; font-size:1.1rem; line-height:1.1; color:var(--ink) }
.timeline-vertical .tl li .dot{
  grid-column:2; width:14px; height:14px; border-radius:50%;
  background:var(--ink); position:relative;
  box-shadow:0 0 0 6px var(--paper), inset 0 0 0 2px var(--ink);
  justify-self:center;
}
.timeline-vertical .tl li .desc{
  grid-column:3; text-align:left; color:var(--ink-2);
  background:var(--paper); border:1px solid var(--rule); border-radius:12px;
  padding:12px 14px; line-height:1.55;
  box-shadow:0 8px 20px var(--shadow); transition:transform .15s ease, box-shadow .15s ease;
}
.timeline-vertical .tl li .desc:hover{ transform:translateY(-2px); box-shadow:0 14px 28px rgba(0,0,0,.18) }
.timeline-vertical .tl li.last .desc{ font-weight:600 }
@media (max-width:520px){
  .timeline-vertical{ --time-col:112px; --rail-gap:10px; --dot-col:22px }
  .timeline-vertical .tl li{ gap:10px }
  .timeline-vertical .tl li time{ font-size:1rem }
  .timeline-vertical .tl li .desc{ padding:10px 12px }
}

/* ====== GALERÍA ====== */
.gallery{ display:flex; gap:10px; overflow-x:auto; padding:6px; scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch }
.gallery::-webkit-scrollbar{ height:8px }
.gallery::-webkit-scrollbar-thumb{ background:#0003; border-radius:8px }
.gallery figure{ flex:0 0 82%; max-width:82%; scroll-snap-align:center; margin:0;
  border:1px solid var(--rule); border-radius:12px; overflow:hidden; background:var(--gallery-bg); box-shadow:0 10px 24px var(--shadow) }
.gallery img{ width:100%; display:block }
.hint{ text-align:center; color:var(--ink-3); margin:.4rem 0 0 }

/* ====== LISTA INFO ÚTIL ====== */
.bullets{ margin:.2rem 0 0; padding:0 0 0 1rem }
.bullets li{ margin:.35rem 0; color:var(--ink-2) }

.contact{ text-align:center }
.footer{ text-align:center; padding:14px; color:#666; border-top:1px solid var(--rule) }

/* ====== REVEAL & PARALLAX ====== */
.reveal{ opacity:0; transform:translateY(14px); transition:opacity .6s ease, transform .6s ease }
.reveal.in-view{ opacity:1; transform:none }
.parallax{ background-attachment:scroll }

/* ====== AUDIO CHIP ====== */
.audio-chip{
  position:fixed; z-index:50; display:flex; align-items:center; gap:10px;
  height:44px; padding:6px 10px;
  /* semitransparente dependiente del tema */
  background:color-mix(in srgb, var(--paper) 92%, transparent);
  border:1px solid var(--ink); border-radius:12px;
  box-shadow:0 10px 22px rgba(0,0,0,.20);
}
.acov{ width:32px; height:32px; border-radius:8px; background:#ddd center/cover no-repeat; border:1px solid var(--ink); flex:0 0 auto }
.atxt{ min-width:0; flex:1 1 auto; line-height:1.1 }
.atxt .t{ font-weight:700; font-size:.9rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.atxt .a{ font-size:.72rem; color:#333; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.abtn{ width:34px; height:34px; border-radius:999px; border:1px solid var(--ink); background:var(--paper); display:grid; place-items:center; cursor:pointer; flex:0 0 auto }
.ai{ width:0; height:0 }
.abtn.play .ai{ border-style:solid; border-width:8px 0 8px 14px; border-color:transparent transparent transparent var(--ink) }
.abtn.pause .ai{ position:relative; width:14px; height:16px }
.abtn.pause .ai::before, .abtn.pause .ai::after{ content:""; position:absolute; top:0; width:4px; height:16px; background:var(--ink); border-radius:1px }
.abtn.pause .ai::before{ left:0 } .abtn.pause .ai::after{ right:0 }
.aprog{ position:absolute; left:8px; right:8px; bottom:5px; height:3px; border-radius:3px; background:#0001; overflow:hidden }
.aprog span{ display:block; height:100%; width:0%; background:var(--ink); transition:width .15s linear }

/* ====== REGLAS RESPONSIVE ANCHAS ====== */
@media (min-width:820px){
  .paper{ max-width:860px; border-radius:22px }
  .details-box{ grid-template-columns:1fr 1fr 1fr }
}

/* ====== REGALOS / TRANSFER ====== */
.bankbox{ margin:.4rem 0 0; padding:.6rem .75rem; border:1px dashed var(--rule); border-radius:10px; background:var(--paper) }
.mono{ font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; letter-spacing:.03em }
.bank-meta{ color:var(--ink-3); font-size:.9rem; margin-top:.15rem }
.gift-actions{ display:flex; gap:.5rem; flex-wrap:wrap; margin-top:.6rem }
.btn.tiny{ padding:.35rem .6rem; font-size:.85rem; box-shadow:0 3px 9px var(--shadow) }
.gift-qr{ display:block; margin:.6rem 0 0 }

/* ====== TOAST ====== */
.toast{
  position:fixed; left:50%; transform:translateX(-50%) translateY(6px);
  bottom:18px; background:var(--ink); color:var(--paper); padding:.5rem .8rem;
  border-radius:999px; box-shadow:0 10px 24px rgba(0,0,0,.28);
  opacity:0; pointer-events:none; transition:opacity .18s, transform .18s; z-index:120;
}
.toast.show{ opacity:1; transform:translateX(-50%) }

/* ====== MODO OSCURO AUTOMÁTICO ====== */
@media (prefers-color-scheme: dark){
  :root{
    --bg:#000;
    --paper:#121212;
    --ink:#f2f2f2;
    --ink-2:#d6d6d6;
    --ink-3:#b8b8b8;
    --rule:#2a2a2a;
    --shadow:rgba(0,0,0,.55);
    --btn-bg:#f1f1f1;
    --btn-fg:#121212;
    --gallery-bg:#111;
  }
  .masthead{
    background:repeating-linear-gradient(180deg,#121212,#121212 32px,#0f0f0f 33px);
  }
}

/* ====== TOGGLE OPCIONAL (data-theme) ====== */
:root[data-theme="light"]{
  --bg:#0b0b0b;
  --paper:#fff; --ink:#111; --ink-2:#333; --ink-3:#555; --rule:#1a1a1a; --shadow:rgba(0,0,0,.12);
  --btn-bg:#111; --btn-fg:#fff; --gallery-bg:#000;
}
:root[data-theme="dark"]{
  --bg:#000;
  --paper:#121212; --ink:#f2f2f2; --ink-2:#d6d6d6; --ink-3:#b8b8b8; --rule:#2a2a2a; --shadow:rgba(0,0,0,.55);
  --btn-bg:#f1f1f1; --btn-fg:#121212; --gallery-bg:#111;
}
:root[data-theme="dark"] .masthead{
  background:repeating-linear-gradient(180deg,#121212,#121212 32px,#0f0f0f 33px);
}
